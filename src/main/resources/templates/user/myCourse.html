<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="~{user/default}">
<th:block layout:fragment="styles">
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css"/>
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <style>
        .container{
            display: flex;
            margin:15px;
        }
        .jumbotron{
            padding:3px;
            margin-top: 30px;
        }
        .time{
            position: absolute;
            right:40px;
        }
        .tab-content{
            min-height: 600px;
        }
        .swiper-container{
            margin-left:0;
        }
        .set-center{
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        h3{
            font-size: 25px;
        }
        h5{
            font-size:15px;
        }
        h7{
            font-size:14px;
        }
        div>img{
            width: 350px;
        }
        .time>span{
            font-size: 10px;
        }
        div>img{
            width:240px;
        }

        @media(max-width:990px){
            div>img{
                width:180px;

            }
            .swiper-slide{
                height:130px;
            }
            h3{
                font-size: 17px;
            }
            h5{
                font-size:15px;
            }
            h7{
                font-size:10px;
            }
            /*.swiper-container{
                width: 300px;
            }*/
            .time>span{
                font-size:8px;
            }

            @media(max-width:630px){
                div>img{
                    width:100px;

                }
                .swiper-slide{
                    height:100px;
                }
                h3{
                    font-size: 13px;
                }
                h5{
                    font-size:11px;
                }
                h7{
                    font-size:10px;
                }
                /*.swiper-container{
                    width: 300px;
                }*/
                .time>span{
                    font-size:4px;
                }
                .time{
                    display: none !important;
                }
            }
        }
    </style>
    <script src="/css/user/user_myCourse.js"></script>
</th:block>
<div layout:fragment="content">
    <div th:replace="user/courseNav :: course"></div>
    <!-- Tab panes -->
    <div class="tab-content">
        <div role="tabpanel" class="tab-pane active" id="hotple-course">
            <!-- 찜코스 수만큼 반복 시작-->
            <div th:each="course : ${courses}"  class="jumbotron mx-4 card" style="min-height: 150px;">
                <a th:href="|/courseDetail/*{course.csCode.replaceAll('/', '')}|"  class="stretched-link"></a>
                <div class="container">
                    <div class="swiper-container col-xl-10 col-md-10 col-sm-10">
                        <div class="swiper-wrapper">
                            <div th:each="courseInfo : ${courseInfos.get(course.csCode)}" class="swiper-slide">
                                <div class="swiper-contents">
                                    <div class="d-flex justify-content-around">
                                        <div class="set-center">
                                            <img th:src="${#hotpleAPI.toImg(courseInfo.uploadPath, courseInfo.uuid, courseInfo.fileName, #hotpleAPI.IMAGE)}"
                                                 alt="메뉴 이미지를 추가해주세요." class="img-fluid"><!-- 디폴트 사진 -->
                                        </div>
                                        <div class="set-center">
                                            <p><h7 th:text="${courseInfo.ciIndex}+ 번째">가게 순서</h7></p>
                                            <p><h7 th:text="${courseInfo.htAddr}">가게 주소</h7></p>
                                        </div>
                                        <div class="set-center">
                                            <p><h7 th:text="${courseInfo.busnName}">가게명</h7></p>
                                            <p><h7 th:text="${courseInfo.htCont}">가게 설명</h7></p>
                                            <p><h7 th:text="${#hotpleAPI.toTel(courseInfo.htTel)}">가게 전화번호</h7></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="swiper-pagination"></div>
                        <div class="swiper-button-prev"></div>
                        <div class="swiper-button-next"></div>
                    </div>
                    <div class="time d-flex flex-column">
                        <span th:text="'만든 날짜 : ' + ${#hotpleAPI.toDateStr(course.csCode)}">만든 날짜 : 2021-04-02</span>
                        <span th:text="|함께할 사람 : *{course.csWith}|">함께할 사람 : 친구</span>
                        <span th:text="|인원 : *{course.csNum}|">인원 : 2명</span>
                        <span th:text="|코스 제목 :  *{course.csTitle}|"></span>
                    </div>
                </div>
            </div>
            <!-- 찜코스 수만큼 반복 끝-->
        </div>
    </div>
    <script>
        var mySwiper = new Swiper('.swiper-container', {
            // direction: 'horizontal',
            loop: true,
            pagination: {el: '.swiper-pagination',},
            navigation: {nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev',},
        });
    </script>
    <button class="btn-warning" data-toggle="modal" data-target="#course_add">코스 추가하기</button>
    <div class="modal" tabindex="-1" id="course_add">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">추천 받을 코스 선택</h5>
                    <span type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </span>
                </div>
                <div class="modal-body">
                    <div class="d-flex justify-content-around">
                        <button class="btn-dark" id="custom">직접 커스텀</button>
                        <button class="btn-dark" onclick="location.href = '/aiCourse'">빅데이터 <br/>추천</button>
                        <button class="btn-dark" id="mbti">MBTI 유형<br/>추천</button>
                    </div>
                    <form id="setting" style="display: none;">
                        <div class="form-group">
                            <label for="title">코스 제목</label>
                            <input type="text" id="title" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="with">함께할 인원</label>
                            <select class="custom-select" id="with">
                                <option value="커플">커플</option>
                                <option value="친구">친구</option>
                                <option value="가족">가족</option>
                                <option value="혼자">혼자</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="person">인원수</label>
                            <input type="text" id="person" class="form-control">
                        </div>
                        <button type="button" id="custom_submit" class="btn-info">확인</button>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">닫기</button>
                </div>
            </div>
        </div>
    </div>
</div>
</html>