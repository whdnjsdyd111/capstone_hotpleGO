<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="~{admin/default}">
<th:block layout:fragment="styles">
    <script src="/css/admin/adm_announce.js"></script>
    <style>
        article:hover {
            cursor: pointer;
        }
    </style>
</th:block>
<div layout:fragment="content">
    <h2 class="mb-3">이벤트/공지</h2>
    <div class="flex-column">
        <div id="board_nav_title" class="navbar navbar-expand flex-md-row navbar-light bg-light border border-bottom-0 border-dark">	<!-- 인기글 등의 메뉴, 검색, 글쓰기 기능 -->
            <h2 class="navbar-brand my-0">
                <th:block th:switch="${sort}">
                    <th:block th:case="event">
                        이벤트
                    </th:block>
                    <th:block th:case="*">
                        공지사항
                    </th:block>
                </th:block>
            </h2>
            <ul class="navbar-nav nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="/admin/announceWrite">
                        <span><i class="fa fa-pencil mr-2"></i>글쓰기</span></a></li>
            </ul>
        </div>

        <div id="board_navbar" class="navbar navbar-expand navbar-light bg-secondary flex-md-row border border-primary">

            <ul class="navbar-nav nav mr-auto">
                <li class="nav-item"><a class="nav-link px-3" href="/admin/announce?sort=event">
                    <i class="fa fa-gift mr-2"></i><span>이벤트</span></a><li>
                <li class="nav-item"><a class="nav-link px-3" href="/admin/announce?sort=announce">
                    <i class="fa fa-bullhorn mr-2"></i><span>공지사항</span></a><li>
            </ul>

            <ul class="navbar-nav nav ml-auto">
                <div class="input-group input-group-sm">
                    <select class="custom-select" id="search_select">
                        <option value="title">제목</option>
                        <option value="content">내용</option>
                    </select>
                    <input class="form-control" id="search_content" type="text" placeholder="검색">
                </div>
            </ul>
        </div>
    </div>

    <div id="board_space"></div>

    <section th:each="event : ${events}">
        <article class="row px-0 mx-0 border border-secondary border-top-0 board_article">
            <input type="hidden" th:value="${event.eveCode.replaceAll('/', '')}">
            <div class="container col-9 px-0 py-2 row">
                <div class="col-8 d-flex">
                    <div class="col-4 pt-2">
                        <img src="" alt="noImg">
                    </div>
                    <div class="col-8 pt-2">
                        <span class="mr-2" th:text="${event.eveTitle}">제목</span>
                        <th:block th:if="${event.eveStart != null}">
                            <div class="d-flex justify-content-between">
                                <span th:text="${#hotpleAPI.timestampToStr(event.eveStart)}"></span>
                                ~
                                <span th:text="${#hotpleAPI.timestampToStr(event.eveExpi)}"></span>
                            </div>
                        </th:block>
                    </div>
                </div>
                <div class="col-4 pt-2">
                    <ul class="navbar navbar nav mr-auto p-0">
                        <li><i class="fa fa-eye mx-2"></i><span th:text="${event.eveRdCount}"></span></li>
                    </ul>
                </div>
            </div>

            <div class="container col-3 d-flex flex-column px-0 text-center">
                <div class="container">
                    <div class="mx-auto">
                        <i class="fa fa-user-circle mr-2"></i><span th:text="${event.AName}">닉네임</span>
                    </div>
                </div>

                <span class="d-inline-block">
                    <button class="btn" style="pointer-events: none; vertical-align: inherit;" type="button"
                            th:text="${#hotpleAPI.toDateStr(event.eveCode)}">
                    </button>
                </span>
            </div>

        </article>
    </section>

    <div class="container my-2">
<!--        <c:if test="${ page == 1 && boardList.size() == 20 }">-->
            <button type="button" class="btn btn-danger page ml-auto" value="${ page + 1 }">다음<i class="fa fa-chevron-right ml-2"></i></button>
<!--        </c:if>-->

<!--        <c:if test="${ page != 1 }">-->
<!--            <c:if test="${ boardList.size() < 20 || boardList == null }">-->
<!--                <button type="button" class="btn btn-danger page" value="${ page - 1 }"><i class="fa fa-chevron-left mr-2"></i>이전</button>-->
<!--            </c:if>-->
<!--            <c:if test="${ boardList.size() == 20 }">-->
<!--                <button type="button" class="btn btn-danger page" value="${ page - 1 }"><i class="fa fa-chevron-left mr-2"></i>이전</button>-->
<!--                <button type="button" class="btn btn-danger page ml-auto" value="${ page + 1 }">다음<i class="fa fa-chevron-right ml-2"></i></button>-->
<!--            </c:if>-->
<!--        </c:if>-->

<!--        <input type="hidden" id="currentPage" value="${ page }">-->
    </div>
</div>
</html>