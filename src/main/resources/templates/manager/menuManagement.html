<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head th:replace="admin/layout::head (HOTPLEGO-MANAGER)">
</head>

<head>
    <script>
        $(document).ready(function(){
            $("#tlt>:first-child").click(function(){
                window.history.back();
            });
            $("#tlt>:last-child").click(function(){
                $(location).attr("href","index.html");
            });

            /*****오른쪽 동그란화살표 토글*****/
            $('body').on('click', '.icon_arr', function(){
                let rot1=$(this).attr("src");

                //alert(thum1);/*우측아이콘 id이름 확인*/
                if(rot1=="../resource/images/icon_circle_arr_down.jpg")
                {
                    $(this).attr("src","../resource/images/icon_circle_arr_up.jpg");
                    $(this).parent().parent().next().show();
                    $(this).parent().prev().children().css("color","#22892d");
                } else {
                    $(this).attr("src","../resource/images/icon_circle_arr_down.jpg");
                    $(this).parent().prev().children().css("color","#6d6d6d");
                    $(this).parent().parent().next().hide();
                }
            });
        });
    </script>
    <style>
        .image-container{
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 200px;
            height: 200px;
            margin:0 0 0 auto;
        }
        table{
            margin-bottom: 10px;
        }

        * {margin:0; padding:0; border:0; outline:0; box-sizing:border-box; list-style:none;}
        html,body {font:16px "맑은 고딕"; }
        body { background:#ebebeb; }

        #tlt, #result         { display:flex; width:100%; }
        #tlt>:first-child     { flex-basis:70px; text-align:center; }
        #tlt>:first-child>img { transform:translate(0,8px); }
        #tlt>:nth-child(2)    { flex-grow:1; text-align:center; }
        #tlt>:last-child      { flex-basis:70px; text-align:center; transform:translate(0,3px);}


        #result              { margin-top:25px; }
        #result>:first-child>h2	{ font:bold 1.2rem "맑은 고딕"; color:white; }
        #result [type="text"]::-webkit-input-placeholder { font:bold 1.2rem "맑은 고딕"; color:#060; }
        #result>:first-child { flex-basis:140px; text-align:center; margin-top:-3px; }
        #result [type="text"]{ width:400px; background:transparent; padding-top:7px; }


        /***** 메인 *****/
        main         { position:absolute;top:117px; width:540px; color:#6e6e6e; background:white; }



        /* 초록선+회색바탕 */
        .area1			{ height:41px; background:#ebebeb; border-top:2px solid #393; }

        .area2>ul		{ display:flex; height:100px; display:flex; align-items:center; }
        .area2>ul>:first-child	{ flex-basis:60px; padding-top:3px; text-align:center; }
        .area2>ul>:nth-child(2)	{ flex-grow:1; padding:3px 0 2px 10px; }
        .area2>ul>:nth-child(2)>h2	{ font-size:1.2rem; color:#6d6d6d; }
        .area2>ul>:last-child	{ flex-basis:60px; padding-top:3px; text-align:center; color:#6d6d6d; }
        .area2>ul>:last-child>[type="image"]	{ transform:rotate(0deg); }

        /* 회색선+회색바탕 */
        .area3			{ height:41px; background:#ebebeb; border-top:1px solid #9f9f9f; }

        /* 펼침내용 */
        .area4			{ width:90%; margin:auto; line-height:2rem; transform:translateY(-20px); display:none; }

    </style>
</head>
<body>
<main>
    <div id="sample" style="display:none;">
        <input type="button" class="btn btn-primary" value="카테고리 삭제" onclick="remove_category(this)">
        <section class="area2">
            <ul>
                <li><input type="button" class="btn btn-primary" value="제목 수정"  data-toggle="modal" data-target="#second-Modal"></li>
                <li><h2>제목</h2></li>
                <li><input type="image" src="../resource/images/icon_circle_arr_down.jpg" alt="방향 화살표 아이콘" id="arr_popular" class="icon_arr">
                    <script src="https://kit.fontawesome.com/2aaf2650b1.js" crossorigin="anonymous"></script></li>
            </ul>
            <section id="menu-sec" class="area4">
                <input type="button" class="btn btn-primary" id="test-btn" value="메뉴 추가" onclick="add_menu(this)">
                <div id="menu-div">
                    <table  id="menu-tab" style="width:100%">
                        <tbody>
                        <tr>
                            <td class="menu-text">
                                <input type="button" class="btn btn-primary" value="메뉴 수정" data-toggle="modal" data-target="#myModal">
                                <input type="button" class="btn btn-default" value="메뉴 삭제" onclick="remove_menu(this)">
                                <div ><h3>메뉴명</h3></div>
                                <div><h6>설명</h6></div>
                                <div >
                                    <h6>???원</h6>
                                </div>
                            </td>
                            <td class="photo-area" >
                                <div class="image-container">
                                    <img src="https://cdn.discordapp.com/attachments/792801331563331604/821185702032834580/KakaoTalk_20201226_035908568.jpg" alt="">
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </section>
        <div class="area3"></div>
    </div>

    <input type="button" class="btn btn-primary" value="카테고리 추가" onclick="add_category(this)">
    <div class="area3"></div>
    <div id="field">

    </div>
</main>

<!-- Modal -->
<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">메뉴 수정</h4>
            </div>
            <div class="modal-body">
                <h5  >메뉴명</h5>
                <input type="text" id="menu-editing"  class="form-control editing"  >
                <h5  >메뉴 사진</h5>
                <input type="file" id="pic" class="form-control"  >
                <h5  >메뉴 가격</h5>
                <input type="text" id="price-editing"  class="form-control editing"  >
                <h5  >메뉴 설명</h5>
                <input type="text" id=expl-editing""  class="form-control editing"  >
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">닫기</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal">확인</button>
            </div>
        </div>
    </div>
</div>
<!--------------->
<div>
    <div class="modal fade" id="second-Modal" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">카테고리 제목</h4>
                </div>
                <div class="modal-body">
                    <h5 >메뉴명</h5>
                    <input type="text"  class="form-control editing"  >
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">닫기</button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal">확인</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script>

    function add_menu(obj){
        $(obj).parent().append($('#menu-div').html());

    }
    function add_category(obj){
        var tmp = $('#sample').clone();
        $('#field').append(tmp);
        tmp.show();

    }
    function remove_menu(obj){
        $(obj).parent().parent().parent().parent().remove();
    }
    function remove_category(obj){
        $(obj).parent().remove();
    }

</script>
</body>
</html>


